
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Neuroimaging in Python &#8212; NiBabel 3.2.0 documentation</title>
    <link rel="stylesheet" href="../_static/nibabel.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="orientations" href="nibabel.orientations.html" />
    <link rel="prev" title="imageglobals" href="nibabel.imageglobals.html" />
  <meta name="keywords" content="nipy, neuroimaging, python, neuroscience">

  </head><body>
<div class="row" style="display: flex; flex-direction: row; flex-wrap: wrap; width: 100%;">
  <div class="column" style="background-color: white; display: flex; flex-direction: column; flex: 0 0 140px; padding-left: 2px; padding-bottom:2px; padding-top:2px;">
    <img src="../_static/nibabel-logo.svg" class="logo" alt="Logo" width="130px"/>
  </div>
  <div class="column" style="background-color: white; text-align: left; padding-left: 10px; padding-bottom:50px; padding-top:20px; background-repeat: no-repeat; display: flex; flex-direction: column; flex-basis: 100%; flex: 1;">
    <h1>NiBabel</h1>
    <h3 style="margin-top:-5px;color:#2f83c8">Access a cacophony of neuro-imaging file formats</h3>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nibabel.orientations.html" title="orientations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nibabel.imageglobals.html" title="imageglobals"
             accesskey="P">previous</a> |</li>
  <li><a href="http://nipy.org/">Community</a> |&nbsp;</li>
  <li><a href="../index.html">NiBabel Home</a> |&nbsp;</li>
  <li><a href="https://mail.python.org/mailman/listinfo/neuroimaging">Mailing list</a> |&nbsp;</li>
  <li><a href="legal.html">License</a> |&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../api.html" accesskey="U">API Documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">loadsave</span></code></a><ul>
<li><a class="reference internal" href="#guessed-image-type">guessed_image_type</a></li>
<li><a class="reference internal" href="#load">load</a></li>
<li><a class="reference internal" href="#read-img-data">read_img_data</a></li>
<li><a class="reference internal" href="#save">save</a></li>
<li><a class="reference internal" href="#which-analyze-type">which_analyze_type</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="nibabel.imageglobals.html"
                        title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imageglobals</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="nibabel.orientations.html"
                        title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">orientations</span></code></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/nibabel.loadsave.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-nibabel.loadsave">
<span id="loadsave"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">loadsave</span></code><a class="headerlink" href="#module-nibabel.loadsave" title="Permalink to this headline">¶</a></h1>
<p>Utilities to load and save image objects</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#nibabel.loadsave.guessed_image_type" title="nibabel.loadsave.guessed_image_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">guessed_image_type</span></code></a>(filename)</p></td>
<td><p>Guess image type from file <cite>filename</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nibabel.loadsave.load" title="nibabel.loadsave.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(filename, \*\*kwargs)</p></td>
<td><p>Load file given filename, guessing at file type</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nibabel.loadsave.read_img_data" title="nibabel.loadsave.read_img_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_img_data</span></code></a>(img[, prefer])</p></td>
<td><p>Read data from image associated with files</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nibabel.loadsave.save" title="nibabel.loadsave.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(img, filename)</p></td>
<td><p>Save an image to file adapting format to <cite>filename</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nibabel.loadsave.which_analyze_type" title="nibabel.loadsave.which_analyze_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">which_analyze_type</span></code></a>(binaryblock)</p></td>
<td><p>Is <cite>binaryblock</cite> from NIfTI1, NIfTI2 or Analyze header?</p></td>
</tr>
</tbody>
</table>
<div class="section" id="guessed-image-type">
<h2>guessed_image_type<a class="headerlink" href="#guessed-image-type" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nibabel.loadsave.guessed_image_type">
<code class="sig-prename descclassname">nibabel.loadsave.</code><code class="sig-name descname">guessed_image_type</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.loadsave.guessed_image_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Guess image type from file <cite>filename</cite></p>
<p>guessed_image_type deprecated.</p>
<ul class="simple">
<li><p>deprecated from version: 3.2</p></li>
<li><p>Will raise &lt;class ‘nibabel.deprecator.ExpiredDeprecationError’&gt; as of version: 5.0</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">str</span></dt><dd><p>File name containing an image</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>image_class</strong><span class="classifier">class</span></dt><dd><p>Class corresponding to guessed image type</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="load">
<h2>load<a class="headerlink" href="#load" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nibabel.loadsave.load">
<code class="sig-prename descclassname">nibabel.loadsave.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.loadsave.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load file given filename, guessing at file type</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">str or os.PathLike</span></dt><dd><p>specification of file to load</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">keyword arguments</span></dt><dd><p>Keyword arguments to format-specific load</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>img</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">SpatialImage</span></code></span></dt><dd><p>Image of guessed type</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="read-img-data">
<h2>read_img_data<a class="headerlink" href="#read-img-data" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nibabel.loadsave.read_img_data">
<code class="sig-prename descclassname">nibabel.loadsave.</code><code class="sig-name descname">read_img_data</code><span class="sig-paren">(</span><em class="sig-param">img</em>, <em class="sig-param">prefer='scaled'</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.loadsave.read_img_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from image associated with files</p>
<p>read_img_data deprecated. Please use <code class="docutils literal notranslate"><span class="pre">img.dataobj.get_unscaled()</span></code> instead.</p>
<ul class="simple">
<li><p>deprecated from version: 3.2</p></li>
<li><p>Will raise &lt;class ‘nibabel.deprecator.ExpiredDeprecationError’&gt; as of version: 5.0</p></li>
</ul>
<p>If you want unscaled data, please use <code class="docutils literal notranslate"><span class="pre">img.dataobj.get_unscaled()</span></code>
instead.  If you want scaled data, use <code class="docutils literal notranslate"><span class="pre">img.get_fdata()</span></code> (which will cache
the loaded array) or <code class="docutils literal notranslate"><span class="pre">np.array(img.dataobj)</span></code> (which won’t cache the
array). If you want to load the data as for a modified header, save the
image with the modified header, and reload.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>img</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">SpatialImage</span></code></span></dt><dd><p>Image with valid image file in <code class="docutils literal notranslate"><span class="pre">img.file_map</span></code>.  Unlike the
<code class="docutils literal notranslate"><span class="pre">img.get_fdata()</span></code> method, this function returns the data read
from the image file, as specified by the <em>current</em> image header
and <em>current</em> image files.</p>
</dd>
<dt><strong>prefer</strong><span class="classifier">str, optional</span></dt><dd><p>Can be ‘scaled’ - in which case we return the data with the
scaling suggested by the format, or ‘unscaled’, in which case we
return, if we can, the raw data from the image file, without the
scaling applied.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>arr</strong><span class="classifier">ndarray</span></dt><dd><p>array as read from file, given parameters in header</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Summary: please use the <code class="docutils literal notranslate"><span class="pre">get_data</span></code> method of <cite>img</cite> instead of this
function unless you are sure what you are doing.</p>
<p>In general, you will probably prefer <code class="docutils literal notranslate"><span class="pre">prefer='scaled'</span></code>, because
this gives the data as the image format expects to return it.</p>
<p>Use <cite>prefer</cite> == ‘unscaled’ with care; the modified Analyze-type
formats such as SPM formats, and nifti1, specify that the image data
array is given by the raw data on disk, multiplied by a scalefactor
and maybe with the addition of a constant.  This function, with
<code class="docutils literal notranslate"><span class="pre">unscaled</span></code> returns the data on the disk, without these
format-specific scalings applied.  Please use this funciton only if
you absolutely need the unscaled data, and the magnitude of the
data, as given by the scalefactor, is not relevant to your
application.  The Analyze-type formats have a single scalefactor +/-
offset per image on disk. If you do not care about the absolute
values, and will be removing the mean from the data, then the
unscaled values will have preserved intensity ratios compared to the
mean-centered scaled data.  However, this is not necessarily true of
other formats with more complicated scaling - such as MINC.</p>
</dd></dl>

</div>
<div class="section" id="save">
<h2>save<a class="headerlink" href="#save" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nibabel.loadsave.save">
<code class="sig-prename descclassname">nibabel.loadsave.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">img</em>, <em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.loadsave.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save an image to file adapting format to <cite>filename</cite></p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>img</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">SpatialImage</span></code></span></dt><dd><p>image to save</p>
</dd>
<dt><strong>filename</strong><span class="classifier">str or os.PathLike</span></dt><dd><p>filename (often implying filenames) to which to save <cite>img</cite>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="which-analyze-type">
<h2>which_analyze_type<a class="headerlink" href="#which-analyze-type" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nibabel.loadsave.which_analyze_type">
<code class="sig-prename descclassname">nibabel.loadsave.</code><code class="sig-name descname">which_analyze_type</code><span class="sig-paren">(</span><em class="sig-param">binaryblock</em><span class="sig-paren">)</span><a class="headerlink" href="#nibabel.loadsave.which_analyze_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Is <cite>binaryblock</cite> from NIfTI1, NIfTI2 or Analyze header?</p>
<p>which_analyze_type deprecated.</p>
<ul class="simple">
<li><p>deprecated from version: 3.2</p></li>
<li><p>Will raise &lt;class ‘nibabel.deprecator.ExpiredDeprecationError’&gt; as of version: 4.0</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>binaryblock</strong><span class="classifier">bytes</span></dt><dd><p>The <cite>binaryblock</cite> is 348 bytes that might be NIfTI1, NIfTI2, Analyze,
or None of the the above.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>hdr_type</strong><span class="classifier">str</span></dt><dd><ul class="simple">
<li><p>a nifti1 header (pair or single) -&gt; return ‘nifti1’</p></li>
<li><p>a nifti2 header (pair or single) -&gt; return ‘nifti2’</p></li>
<li><p>an Analyze header -&gt; return ‘analyze’</p></li>
<li><p>None of the above -&gt; return None</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Algorithm:</p>
<ul class="simple">
<li><p>read in the first 4 bytes from the file as 32-bit int <code class="docutils literal notranslate"><span class="pre">sizeof_hdr</span></code></p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">sizeof_hdr</span></code> is 540 or byteswapped 540 -&gt; assume nifti2</p></li>
<li><p>Check for ‘ni1’, ‘n+1’ magic -&gt; assume nifti1</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">sizeof_hdr</span></code> is 348 or byteswapped 348 assume Analyze</p></li>
<li><p>Return None</p></li>
</ul>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2006-2020, Chris Markiewicz &lt;neuroimaging@python.org&gt;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>